<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EDAV of US Children’s Mental Health - 3&nbsp; Results</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./d3graph.html" rel="next">
<link href="./data.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./results.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">EDAV of US Children’s Mental Health</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/LuotongKang/edav23fall_project_11" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./results.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d3graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Interactive graph</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preprocess" id="toc-preprocess" class="nav-link active" data-scroll-target="#preprocess"><span class="header-section-number">3.1</span> Preprocess</a>
  <ul class="collapse">
  <li><a href="#load-libraries-data" id="toc-load-libraries-data" class="nav-link" data-scroll-target="#load-libraries-data"><span class="header-section-number">3.1.1</span> Load Libraries &amp; Data</a></li>
  <li><a href="#select-filter" id="toc-select-filter" class="nav-link" data-scroll-target="#select-filter"><span class="header-section-number">3.1.2</span> Select &amp; Filter</a></li>
  <li><a href="#missing-value-analysis" id="toc-missing-value-analysis" class="nav-link" data-scroll-target="#missing-value-analysis"><span class="header-section-number">3.1.3</span> Missing Value Analysis</a></li>
  </ul></li>
  <li><a href="#guardians-influence-on-childrens-mental-health" id="toc-guardians-influence-on-childrens-mental-health" class="nav-link" data-scroll-target="#guardians-influence-on-childrens-mental-health"><span class="header-section-number">3.2</span> Guardian’s Influence on Children’s Mental Health</a>
  <ul class="collapse">
  <li><a href="#full-time-employment-education" id="toc-full-time-employment-education" class="nav-link" data-scroll-target="#full-time-employment-education"><span class="header-section-number">3.2.1</span> Full-time Employment + Education</a></li>
  <li><a href="#within-children-with-mental-struggles-whats-proportion-of-each-problem-with-respect-to-a1_menthealth-facet-by-family_r" id="toc-within-children-with-mental-struggles-whats-proportion-of-each-problem-with-respect-to-a1_menthealth-facet-by-family_r" class="nav-link" data-scroll-target="#within-children-with-mental-struggles-whats-proportion-of-each-problem-with-respect-to-a1_menthealth-facet-by-family_r"><span class="header-section-number">3.2.2</span> WIthin children with mental struggles, what’s proportion of each problem with respect to A1_MENTHEALTH, facet by FAMILY_R</a></li>
  <li><a href="#treatment" id="toc-treatment" class="nav-link" data-scroll-target="#treatment"><span class="header-section-number">3.2.3</span> Treatment</a></li>
  </ul></li>
  <li><a href="#childrens-experience-and-mental-health" id="toc-childrens-experience-and-mental-health" class="nav-link" data-scroll-target="#childrens-experience-and-mental-health"><span class="header-section-number">3.3</span> Children’s experience and mental health</a>
  <ul class="collapse">
  <li><a href="#are-children-more-likely-to-be-depressed-if-they-have-been-treated-unfairly-because-of-gender-identity-or-sexual-orientation" id="toc-are-children-more-likely-to-be-depressed-if-they-have-been-treated-unfairly-because-of-gender-identity-or-sexual-orientation" class="nav-link" data-scroll-target="#are-children-more-likely-to-be-depressed-if-they-have-been-treated-unfairly-because-of-gender-identity-or-sexual-orientation"><span class="header-section-number">3.3.1</span> Are children more likely to be depressed if they have been treated unfairly because of gender identity or sexual orientation?</a></li>
  <li><a href="#how-does-being-a-victim-of-violence-living-with-people-with-alcohol-problems-and-experiencing-parent-divorce-affect-childrens-mental-health-respectively" id="toc-how-does-being-a-victim-of-violence-living-with-people-with-alcohol-problems-and-experiencing-parent-divorce-affect-childrens-mental-health-respectively" class="nav-link" data-scroll-target="#how-does-being-a-victim-of-violence-living-with-people-with-alcohol-problems-and-experiencing-parent-divorce-affect-childrens-mental-health-respectively"><span class="header-section-number">3.3.2</span> How does being a victim of violence, living with people with alcohol problems, and experiencing parent divorce affect children’s mental health respectively?</a></li>
  <li><a href="#whats-the-relationship-between-childrens-grade-at-school-and-mental-health-issues" id="toc-whats-the-relationship-between-childrens-grade-at-school-and-mental-health-issues" class="nav-link" data-scroll-target="#whats-the-relationship-between-childrens-grade-at-school-and-mental-health-issues"><span class="header-section-number">3.3.3</span> What’s the relationship between children’s grade at school and mental health issues</a></li>
  </ul></li>
  <li><a href="#mutual-effect-of-mental-health-problems-on-children" id="toc-mutual-effect-of-mental-health-problems-on-children" class="nav-link" data-scroll-target="#mutual-effect-of-mental-health-problems-on-children"><span class="header-section-number">3.4</span> Mutual effect of mental health problems on children</a>
  <ul class="collapse">
  <li><a href="#distribution-of-the-number-of-mental-issues-children-have" id="toc-distribution-of-the-number-of-mental-issues-children-have" class="nav-link" data-scroll-target="#distribution-of-the-number-of-mental-issues-children-have"><span class="header-section-number">3.4.1</span> Distribution of the Number of Mental Issues Children have</a></li>
  <li><a href="#the-relationship-between-depression-anxiety-and-addadhd" id="toc-the-relationship-between-depression-anxiety-and-addadhd" class="nav-link" data-scroll-target="#the-relationship-between-depression-anxiety-and-addadhd"><span class="header-section-number">3.4.2</span> The relationship between Depression, Anxiety and ADD/ADHD</a></li>
  </ul></li>
  <li><a href="#impacts-on-physical-health" id="toc-impacts-on-physical-health" class="nav-link" data-scroll-target="#impacts-on-physical-health"><span class="header-section-number">3.5</span> Impacts on Physical Health</a></li>
  <li><a href="#prepare-for-d3-graph" id="toc-prepare-for-d3-graph" class="nav-link" data-scroll-target="#prepare-for-d3-graph"><span class="header-section-number">3.6</span> Prepare for D3 Graph</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/LuotongKang/edav23fall_project_11/edit/main/results.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/LuotongKang/edav23fall_project_11/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="preprocess" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="preprocess"><span class="header-section-number">3.1</span> Preprocess</h2>
<section id="load-libraries-data" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="load-libraries-data"><span class="header-section-number">3.1.1</span> Load Libraries &amp; Data</h3>
<p>We read <code>sas7bdat</code> file downloaded from United States Census Bureau.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ forcats   1.0.0     ✔ readr     2.1.4
✔ ggplot2   3.4.3     ✔ stringr   1.5.0
✔ lubridate 1.9.2     ✔ tibble    3.2.1
✔ purrr     1.0.2     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vcd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: grid</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggalluvial)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>nsch_topical <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">unz</span>(<span class="st">'data/nsch_2022e_topical.sas7bdat.zip'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">'nsch_2022e_topical.sas7bdat'</span>))</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>nsch_topical <span class="ot">&lt;-</span> nsch_topical[nsch_topical<span class="sc">$</span>A1_GRADE_IF <span class="sc">!=</span> <span class="dv">1</span>, ] <span class="co"># imputed rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="select-filter" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="select-filter"><span class="header-section-number">3.1.2</span> Select &amp; Filter</h3>
<p>We select to include relevant columns. For details about the meaning of each column, please refer to <code>data.qmd</code>. We only study children between age 6-17, so we filter out the <code>T1</code> children.</p>
<p>In the end of preprocessing, we stored the data as a csv file called <code>nsch.csv</code> inside the data folder</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>parent_ls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A1_ACTIVE"</span>, <span class="st">"A1_AGE"</span>, <span class="st">"A1_BORN"</span>, <span class="st">"A1_EMPLOYED"</span>,<span class="st">"A1_GRADE"</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">"A1_MARITAL"</span>, <span class="st">"A1_MENTHEALTH"</span>, <span class="st">"A1_PHYSHEALTH"</span>, <span class="st">"FAMILY_R"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"HHCOUNT"</span>, <span class="st">"HIGRADE_TVIS"</span>, <span class="st">"HOMEEVIC"</span>, <span class="st">"HOPEFUL"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>experience_ls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ACE1"</span>, <span class="st">"ACE10"</span>, <span class="st">"ACE11"</span>, <span class="st">"ACE12"</span>, <span class="st">"ACE3"</span>, <span class="st">"ACE4"</span>, <span class="st">"ACE5"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"ACE6"</span>, <span class="st">"ACE7"</span>, <span class="st">"ACE8"</span>, <span class="st">"ACE9"</span>, <span class="st">"BULLIED_R"</span>, <span class="st">"BULLY"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"EVERHOMELESS"</span>, <span class="st">"GRADES"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>physical_ls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"FASD"</span>, <span class="st">"GENETIC"</span>, <span class="st">"HOURSLEEP"</span>, <span class="st">"PHYSACTIV"</span>, <span class="st">"PHYSICALPAIN"</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>mental_ls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"K2Q30A"</span>,<span class="st">"K2Q31A"</span>,<span class="st">"K2Q32A"</span>, <span class="st">"K2Q33A"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">"K2Q34A"</span>,<span class="st">"K2Q35A"</span>,<span class="st">"K2Q37A"</span>,<span class="st">"K2Q38A"</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>treatment_ls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"K4Q22_R"</span>,<span class="st">"K4Q23"</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>nsch_df <span class="ot">&lt;-</span> nsch_topical <span class="sc">|&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"HHID"</span>, <span class="st">"FORMTYPE"</span>, parent_ls, experience_ls,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>                  physical_ls, mental_ls, treatment_ls))) <span class="sc">|&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(FORMTYPE <span class="sc">!=</span> <span class="st">"T1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="missing-value-analysis" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="missing-value-analysis"><span class="header-section-number">3.1.3</span> Missing Value Analysis</h3>
<p><u><strong>See “Chapter2: Data” for Details</strong></u></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(nsch_df[,<span class="sc">-</span><span class="dv">2</span>], <span class="st">"data/nsch.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>nsch_df <span class="ot">&lt;-</span> <span class="fu">drop_na</span>(nsch_df[,<span class="sc">-</span><span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="guardians-influence-on-childrens-mental-health" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="guardians-influence-on-childrens-mental-health"><span class="header-section-number">3.2</span> Guardian’s Influence on Children’s Mental Health</h2>
<p>Guardian can play a variety of roles in children’s life: caregiver, educator, friends, and spirit leader. In this section, we are going to explore the relationship between guardian’s information and child’s mental health issues. Notice that this survey of children’s health is filled by <code>A1</code>, one of the child’s guardians, while some questions asked about background information of the whole household.</p>
<section id="full-time-employment-education" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="full-time-employment-education"><span class="header-section-number">3.2.1</span> Full-time Employment + Education</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>par_grade_employ <span class="ot">&lt;-</span> nsch_df <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Fully_Employed =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>A1_EMPLOYED <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Child_mental_struggle =</span> <span class="fu">ifelse</span>(<span class="fu">rowSums</span>(nsch_df[, mental_ls] <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fully_Employed, A1_GRADE, Child_mental_struggle)<span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Fully_Employed', 'A1_GRADE'. You can
override using the `.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaic</span>(Child_mental_struggle <span class="sc">~</span> Fully_Employed <span class="sc">+</span> A1_GRADE,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">data=</span>par_grade_employ, <span class="at">direction=</span><span class="fu">c</span>(<span class="st">"h"</span>, <span class="st">"v"</span>, <span class="st">"h"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong><em>A1_EMPLOYED ‐ Adult 1 ‐ Current Employment Status (T1 T2 T3)</em></strong><br>
<em>Which of the following best describes your current employment status?</em><br>
<em>1 = 8th grade or less</em><br>
<em>2 = 9th‐12th grade; No diploma</em><br>
<em>3 = High School Graduate or GED Completed</em><br>
<em>4 = Completed a vocational, trade, or business school program</em><br>
<em>5 = Some College Credit, but No Degree</em><br>
<em>6 = Associate Degree (AA, AS)</em><br>
<em>7 = Bachelor’s Degree (BA, BS, AB)</em><br>
<em>8 = Master’s Degree (MA, MS, MSW, MBA)</em><br>
<em>9 = Doctorate (PhD, EdD) or Professional Degree (MD, DDS, DVM, JD)</em></p>
<p>This graph explain the co-effect of <code>A1</code>’s education level and employment status on child’s mental health. We didn’t include other employment type like partly employed, and we didn’t separate mental struggles into specific health issues like depression or anxiety. We tried to find a general pattern of <code>A1</code>’s influence in terms of their work and knowledge. Here’s what we find:</p>
<ul>
<li><p>Among all the children been investigated, children with mental health problem is less than a half.</p></li>
<li><p>Fully employed people mostly comes from educational background 7 and 8, which means that the highest school completed are Bachelor’s Degree (BA, BS, AB) or Master’s Degree (MA, MS, MSW, MBA).</p></li>
<li><p>No matter <code>A1</code> is fully employed or not, when <code>A1</code> has Some College Credit, but No Degree or Associate Degree (AA, AS), their child is slightly easier to be told to have mental issues based on the higher proportion indicated in the mosaic plot.</p></li>
<li><p>When <code>A1</code> identify themselves to complete 12th grade or less school, a smaller proportion of their child reports mental health struggles.</p></li>
</ul>
</section>
<section id="within-children-with-mental-struggles-whats-proportion-of-each-problem-with-respect-to-a1_menthealth-facet-by-family_r" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="within-children-with-mental-struggles-whats-proportion-of-each-problem-with-respect-to-a1_menthealth-facet-by-family_r"><span class="header-section-number">3.2.2</span> WIthin children with mental struggles, what’s proportion of each problem with respect to A1_MENTHEALTH, facet by FAMILY_R</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>theme_heat <span class="ot">&lt;-</span> <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>())</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>nsch_df <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Child_mental_struggle =</span> <span class="fu">ifelse</span>(<span class="fu">rowSums</span>(nsch_df[, mental_ls] <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Child_mental_struggle <span class="sc">==</span> <span class="st">"Yes"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"LearningDisability"</span> <span class="ot">=</span> <span class="st">"K2Q30A"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ADD/ADHD"</span> <span class="ot">=</span> <span class="st">"K2Q31A"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Depression"</span> <span class="ot">=</span> <span class="st">"K2Q32A"</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Anxiety"</span> <span class="ot">=</span> <span class="st">"K2Q33A"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>         <span class="st">"BehaviorProblems"</span> <span class="ot">=</span> <span class="st">"K2Q34A"</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>         <span class="st">"AutismASD"</span> <span class="ot">=</span> <span class="st">"K2Q35A"</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>         <span class="st">"SpeechDisorder"</span> <span class="ot">=</span> <span class="st">"K2Q37A"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>         <span class="st">"TouretteSyndrome"</span> <span class="ot">=</span> <span class="st">"K2Q38A"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> LearningDisability<span class="sc">:</span>TouretteSyndrome,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Issues"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"FAMILY_R"</span>, <span class="st">"A1_MENTHEALTH"</span>, <span class="st">"Issues"</span>, <span class="st">"value"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(FAMILY_R, A1_MENTHEALTH, Issues) <span class="sc">|&gt;</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(FAMILY_R, A1_MENTHEALTH) <span class="sc">|&gt;</span> </span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Total =</span> <span class="fu">sum</span>(Freq)) <span class="sc">|&gt;</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> A1_MENTHEALTH, <span class="at">y =</span> Issues)) <span class="sc">+</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> (Freq<span class="sc">/</span>Total)), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span> </span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>FAMILY_R, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span> theme_heat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'FAMILY_R', 'A1_MENTHEALTH'. You can
override using the `.groups` argument.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong><em>FAMILY_R ‐ Family Structure (T1 T2 T3)</em></strong><br>
<em>1 = Two biogical/adoptive parents, currently married</em><br>
<em>2 = Two biogical/adoptive parents, not currently married</em><br>
<em>3 = Two parents (at least one not biological/adoptive), currently married</em><br>
<em>4 = Two parents (at least one not biological/adoptive), not currently married</em><br>
<em>5 = Single mother</em><br>
<em>6 = Single father</em><br>
<em>7 = Grandparent household</em><br>
<em>8 = Other relation</em><br>
<strong><em>A1_MENTHEALTH ‐ Adult 1 ‐ Mental or Emotional Health (T1 T2 T3)</em></strong><br>
<em>In general, how is your mental or emotional health?</em><br>
<em>1 = Excellent</em><br>
<em>2 = Very Good</em><br>
<em>3 = Good</em><br>
<em>4 = Fair</em><br>
<em>5 = Poor</em></p>
<p>In this heatmap, we explored the distribution of mental health issues among each different family structure and <code>A1</code>’s mental health status. <code>A1</code>’s mental status is indicated by number in the x-axis (larger number means less healthy), and each facet represent a different family structure. In each column of each facet, the heatmap value (Freq/Total) can be summed to 1. Notice that since a child might have multiple mental health issues, here the total Freq will not be the total number of children having struggles (Freq &gt; NumPeople). Here’s what we’ve discovered:</p>
<ul>
<li><p>Among all mental issues, Tourette Syndrome have fewest proportion for mostly of times. Disregarding the Simpson’s paradox, we can probability conclude from the graph that this is the least common issues among the 8 problems we investigated.</p></li>
<li><p>Outliers are find mostly in <code>A1</code> with poor mental status from family structure 7 and 8. This might implies that poor mental health status of guardians and non-mainstream family structure (Grandparent household or Other) together have a negative impact on children. Or this might be just an coincidence because of small sample size of these group.</p></li>
<li><p>Except for <code>A1</code> with poor mental status from family structure 7 and 8, distribution of child’s mental problems seem to have the following pattern:</p>
<ul>
<li><p>Anxiety and ADD/ADHD are the most common issues, and Tourette Syndrome and Autism ASD are the least common issues.</p></li>
<li><p>Among children who have mental disease and have a guardian reporting a poor mental status, a larger proportion is having Anxiety.</p></li>
</ul></li>
</ul>
</section>
<section id="treatment" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="treatment"><span class="header-section-number">3.2.3</span> Treatment</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>nsch_df <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Treatment =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>K4Q22_R <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(mental_ls, <span class="at">names_to =</span> <span class="st">"Issues"</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"Issues"</span>, <span class="st">"Treatment"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(<span class="fu">fct_infreq</span>(Issues)), <span class="at">fill =</span> Treatment)) <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Issues"</span>) <span class="sc">+</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels=</span><span class="fu">c</span>(</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q30A =</span> <span class="st">"LearningDisability"</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q31A =</span> <span class="st">"ADD/ADHD"</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q32A =</span> <span class="st">"Depression"</span>,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q33A =</span> <span class="st">"Anxiety"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q34A =</span> <span class="st">"BehaviorProblems"</span>,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q35A =</span> <span class="st">"AutismASD"</span>,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q37A =</span> <span class="st">"SpeechDisorder"</span>,</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q38A =</span> <span class="st">"TouretteSyndrome"</span>)) <span class="sc">+</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using an external vector in selections was deprecated in tidyselect 1.1.0.
ℹ Please use `all_of()` or `any_of()` instead.
  # Was:
  data %&gt;% select(mental_ls)

  # Now:
  data %&gt;% select(all_of(mental_ls))

See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We are also curious about how many child has received treatment after they are been diagnosed. The counting strategy is the same with the previous heatmap: we are counting the cases instead of total people because there exist people with multiple mental problems. From this bar chart, we found that Anxiety and ADD/ADHD are the most common problems. In addition, Anxiety and depression have very high treatment rate. Even though Learning Disability and Speech Disorder have similar total case as Depression (even higher), most of children didn’t get treatment. This might be caused by the capability and advisement of counseling institutes. Also, guardians’ tend to believe that Behavior Problem and Learning Disability will disappear when the child grow up. Let’s explore how does the age of <code>A1</code> influence there choice of having their child treated or not.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>nsch_df <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Treatment =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>K4Q22_R <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Child_mental_struggle =</span> <span class="fu">ifelse</span>(<span class="fu">rowSums</span>(nsch_df[, mental_ls] <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Child_mental_struggle <span class="sc">==</span> <span class="st">"Yes"</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"A1_AGE"</span>, <span class="st">"Treatment"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> A1_AGE, <span class="at">y=</span>Treatment)) <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">bandwidth =</span> <span class="dv">1</span>, <span class="at">scale =</span> <span class="fl">0.5</span>) <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">width=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Boxplot &amp; Ridgeline plots of Guardien's Age Distribution with/without Treatment"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In this graph, we are not looking at cases anymore. One child will only match one data point of the plotting dataframe. We are looking for the <code>A1</code>’s Age distribution of children who suffer from mental issues. From the Ridgeline, we can see that ages are roughly normally distributed. Among the 2 distribution, children without treatment have a slight right skewed guardian’s age distribution. It is hard to tell more difference from ridgeline alone.</p>
<p>Thus, we add boxplots to the graph, and we can find that the median age of <code>A1</code> who has their children treated is higher. This might be caused by stronger economic support they can provide.</p>
</section>
</section>
<section id="childrens-experience-and-mental-health" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="childrens-experience-and-mental-health"><span class="header-section-number">3.3</span> Children’s experience and mental health</h2>
<p>Children’s mental well-being is intricately linked to their life experiences, with unfair or distressing encounters potentially contributing to various mental health challenges. Consequently, our objective is to delve into the correlation between children’s experiences and the emergence of mental health issues.</p>
<section id="are-children-more-likely-to-be-depressed-if-they-have-been-treated-unfairly-because-of-gender-identity-or-sexual-orientation" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="are-children-more-likely-to-be-depressed-if-they-have-been-treated-unfairly-because-of-gender-identity-or-sexual-orientation"><span class="header-section-number">3.3.1</span> Are children more likely to be depressed if they have been treated unfairly because of gender identity or sexual orientation?</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>icecreamcolors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#ff99ff"</span>, <span class="st">"#cc9966"</span>) </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>unfair_depress <span class="ot">&lt;-</span> nsch_df <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Depression =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>K2Q32A <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Unfair_identity =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>ACE10 <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Unfair_identity,Depression)<span class="sc">|&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Unfair_identity'. You can override using
the `.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mosaic</span>(Depression <span class="sc">~</span> Unfair_identity, <span class="at">data=</span>unfair_depress, <span class="at">direction =</span> <span class="fu">c</span>(<span class="st">"v"</span>,<span class="st">"h"</span>), <span class="at">main =</span> <span class="st">"Depression and Unfair Treatment from Identity"</span>,<span class="at">highlighting_fill =</span> icecreamcolors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>To investigate this question, we drew a mosaic plot with two variables:</p>
<p>unfair_identity: referred as <code>ACE10</code> in the original data, showing whether the child has ever experienced unfair treatments because of gender identity or sexual orientation</p>
<p>depression: referred as <code>K2Q32A</code> in the original data, showing whether the child has depression</p>
<p>The mosaic plot analysis reveals a compelling connection between the independent variable “unfair_identity” and the dependent variable “depression.” Specifically, when examining the data by splitting “depression” horizontally and “unfair_identity” vertically, a notable pattern emerges: children who have experienced unfair treatment due to their gender identity or sexual orientation appear to be more susceptible to depression.</p>
<p>These findings underscore the importance of heightened awareness among parents, educators, and schools regarding the potential mental health impact on children who face discrimination based on their identities. The data strongly suggests that such children may require additional care and support to navigate the challenges associated with unfair treatment.</p>
</section>
<section id="how-does-being-a-victim-of-violence-living-with-people-with-alcohol-problems-and-experiencing-parent-divorce-affect-childrens-mental-health-respectively" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="how-does-being-a-victim-of-violence-living-with-people-with-alcohol-problems-and-experiencing-parent-divorce-affect-childrens-mental-health-respectively"><span class="header-section-number">3.3.2</span> How does being a victim of violence, living with people with alcohol problems, and experiencing parent divorce affect children’s mental health respectively?</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>victim_mental <span class="ot">&lt;-</span> nsch_df <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Child_mental_struggle =</span> <span class="fu">ifelse</span>(<span class="fu">rowSums</span>(nsch_df[, mental_ls] <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&gt;</span> <span class="dv">0</span>,<span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Victim_violence =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>ACE7 <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Alcohol_drug =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>ACE9 <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Parent_divorce =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>ACE3 <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(Victim_violence, Alcohol_drug,Parent_divorce,Child_mental_struggle)|&gt;</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#summarize(Freq = n())</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>victim_mental <span class="ot">&lt;-</span> <span class="fu">select</span>(victim_mental,Child_mental_struggle,Victim_violence,Alcohol_drug,Parent_divorce)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#pairs(table(victim_mental), highlighting = 2,text_panel=list(cex.labels=0.5))</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>victim_mental <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(victim_mental,<span class="at">cols =</span> Victim_violence<span class="sc">:</span>Parent_divorce, <span class="at">names_to =</span> <span class="st">"Type"</span>,<span class="at">values_to =</span> <span class="st">"Experience"</span> )</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(victim_mental, <span class="fu">aes</span>(<span class="at">x =</span> Experience, <span class="at">fill =</span> Child_mental_struggle)) <span class="sc">+</span> </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span> </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>Type) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> icecreamcolors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Besides unfair treatment out of chidren’s identities, children may so suffer from other unpleasing experience like violence, living with people with alcohol or drug, or parent divorce. To investigate and compare the relationship between those experience and mental health, we drew a stacked bar chart with facets.</p>
<p>The variables included in the bar chart are:</p>
<p>Child_mental_struggle: shows whether the child has mental health issues, and it returns “Yes” if the child suffers from any type of mental issues, and “No” otherwise.</p>
<p>Alcohol_drug: referred as <code>ACE9</code> in the original data, showing whether the child has experience living with people with alcohol or drug issues.</p>
<p>Parent_divorce: referred as <code>ACE3</code> in the original data, showing whether the child has experienced parent divorce.</p>
<p>Victim_violence: referred as <code>ACE7</code> in the original data, showing whether the child has been a victim of violence.</p>
<p>Upon comparing the proportions represented by each segment of the stacked bars, a notable pattern emerges. Remarkably, over 50% of children who have experienced living with individuals facing alcohol or drug issues exhibit some form of mental health challenges. Similarly, a significant majority of children who have been victims of violence also demonstrate a higher prevalence of mental health issues. In contrast, children whose parents have undergone divorce show a lower ratio, with less than half experiencing mental health concerns. While this percentage is comparatively lower than those associated with other adverse experiences, it is essential to note that children with divorced parents still exhibit a higher likelihood of facing mental health problems when compared to those who haven’t experienced parental divorce.</p>
</section>
<section id="whats-the-relationship-between-childrens-grade-at-school-and-mental-health-issues" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="whats-the-relationship-between-childrens-grade-at-school-and-mental-health-issues"><span class="header-section-number">3.3.3</span> What’s the relationship between children’s grade at school and mental health issues</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>value_mapping <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">original=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>),</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">replacement=</span><span class="fu">c</span>(<span class="st">"Mostly A"</span>, <span class="st">"Mostly A and B"</span>, <span class="st">"Mostly B and C"</span>, <span class="st">"Mostly C and D"</span>,<span class="st">"Mostly D and E"</span>, <span class="st">"Unknown"</span>))</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>grade_mental <span class="ot">&lt;-</span> nsch_df <span class="sc">|&gt;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Child_mental_struggle =</span> <span class="fu">ifelse</span>(<span class="fu">rowSums</span>(nsch_df[, mental_ls] <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&gt;</span> <span class="dv">0</span>,<span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Grade=</span>value_mapping<span class="sc">$</span>replacement[<span class="fu">match</span>(GRADES,value_mapping<span class="sc">$</span>original)]) <span class="sc">|&gt;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(Depression = ifelse(nsch_df$K2Q32A == 1, "Yes", "No")) |&gt;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(Grade = ifelse(nsch_df$GRADES == 1, "Yes", "No")) |&gt;</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Grade,Child_mental_struggle)<span class="sc">|&gt;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Grade'. You can override using the
`.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grade_mental, <span class="fu">aes</span>(<span class="at">axis1 =</span> Grade, <span class="at">axis2 =</span> Child_mental_struggle, <span class="at">y=</span>Freq)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_alluvium</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Grade), <span class="at">width =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>() <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">after_stat</span>(stratum)<span class="co">#, "\n", after_stat(count) </span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>                                                )))<span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Relationship between Grade at School and Mental Health Issues"</span>)<span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"GRADES"</span>, <span class="st">"Child_mental_struggle"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Children’s grades may also be correlated with mental health. To study the relationship between grades and mental health issues, we made an Alluvial Diagram.</p>
<p>There are two variables in the diagram:</p>
<p>GRADES: shows the grade of a child at school and it has six levels: mostly A’s, mostly A’s and B’s, mostly B’s and C’s, mostly C’s and D’s, mostly D’s and E’s, and unknown if the school don’t provide grades.</p>
<p>Child_mental_struggle: shows whether the child has mental health issues, and it returns “Yes” if the child suffers from any type of mental issues, and “No” otherwise.</p>
<p>The findings underscore a significant correlation between academic performance and mental health among children. Notably, those who predominantly receive C’s and D’s, or D’s and E’s, exhibit a notably higher likelihood of experiencing mental health issues compared to their counterparts with better grades. Furthermore, the trend indicates that as academic performance improves, the likelihood of mental health issues decreases.</p>
<p>This correlation aligns with a logical interpretation: children facing challenges in academic achievement, marked by lower grades, may experience feelings of depression or anxiety. Conversely, children dealing with mental health issues may encounter difficulties concentrating in class, potentially impacting their academic performance negatively. The observed relationship suggests a mutual effect between grades and mental health.</p>
<p>The result provide suggestions for educators and parents. It emphasizes the importance of support systems that consider both academic and mental well-being. Targeted interventions addressing the reciprocal relationship between grades and mental health can contribute to fostering a positive and supportive learning environment for children.</p>
</section>
</section>
<section id="mutual-effect-of-mental-health-problems-on-children" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="mutual-effect-of-mental-health-problems-on-children"><span class="header-section-number">3.4</span> Mutual effect of mental health problems on children</h2>
<section id="distribution-of-the-number-of-mental-issues-children-have" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="distribution-of-the-number-of-mental-issues-children-have"><span class="header-section-number">3.4.1</span> Distribution of the Number of Mental Issues Children have</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>mental <span class="ot">&lt;-</span> <span class="fu">select</span>(nsch_df,K2Q30A,K2Q31A,K2Q32A, K2Q33A,</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>               K2Q34A,K2Q35A,K2Q37A,K2Q38A)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>mental<span class="sc">$</span>Num_Mental_Issues <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">rowSums</span>(mental <span class="sc">==</span><span class="dv">1</span>))</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mental, <span class="fu">aes</span>(<span class="at">x =</span> Num_Mental_Issues)) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"cornflowerblue"</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribution of the Number of Mental Issues Children have"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We first drew a bar chart to show the distribution of the number of mental issues children have. We only have one variable: Num_Mental_Issues, which shows the number of mental issues each child has. It is calculated by counting the number of “Yes” in different mental health issues of each child.</p>
<p>From the result, we can see that the majority of children don’t have any mental health issues, or only suffer from one mental disease. However, there are still a lot of children suffering from multiple mental issues. It is likely that some mental issues have mutual effect on each other, and we need to investigate more on it.</p>
</section>
<section id="the-relationship-between-depression-anxiety-and-addadhd" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="the-relationship-between-depression-anxiety-and-addadhd"><span class="header-section-number">3.4.2</span> The relationship between Depression, Anxiety and ADD/ADHD</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>mental_issues <span class="ot">&lt;-</span> nsch_df <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Depression =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>K2Q32A <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Deression"</span>, <span class="st">"No Depression"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Anxiety =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>K2Q33A <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Anxiety"</span>, <span class="st">"No Anxiety"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ADD_ADHD =</span> <span class="fu">ifelse</span>(nsch_df<span class="sc">$</span>K2Q31A <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"ADD/ADHD"</span>, <span class="st">"No ADD/ADHD"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Depression,Anxiety,ADD_ADHD)<span class="sc">|&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Depression', 'Anxiety'. You can override
using the `.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mental_issues, <span class="fu">aes</span>(<span class="at">axis1 =</span> Depression, <span class="at">axis2 =</span> Anxiety, <span class="at">axis3=</span>ADD_ADHD, <span class="at">y=</span>Freq)) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_alluvium</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Depression)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>() <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">after_stat</span>(stratum))))<span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Relationship between Mental Health Issues"</span>)<span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"Depression"</span>, <span class="st">"Anxiety"</span>,<span class="st">"ADD_ADHD"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Depression, anxiety and ADD/ADHD are three very common mental health issues, and they are likely to affect each other. To explore if children with one of the issues are more likely to have other issues as well, we drew an Alluvial Diagram of three variables:</p>
<p>Depression: referred as <code>K2Q32A</code> in the original data, showing whether the children has ever had depression</p>
<p>Anxiety: referred as <code>K2Q33A</code> in the original data, showing whether the children has ever had anxiety</p>
<p>ADD/ADHD: referred as <code>K2Q31A</code> in the original data, showing whether the children has ever had ADD/ADHD</p>
<p>From the graph, we can see that the majority of children who suffer from depression also suffer from anxiety. Additionally, approximately half of those contending with both depression and anxiety also exhibit symptoms of ADD/ADHD. Moreover, an apparent correlation is observed between anxiety and ADD/ADHD, with nearly half of the children diagnosed with ADD/ADHD also reporting symptoms of anxiety.</p>
<p>These findings align with expectations, as depression often coexists with anxiety. Additionally, the challenges of concentration faced by children with ADD/ADHD may contribute to feelings of distress or anxiety. By fostering an understanding that depression, anxiety, and ADD/ADHD are not isolated entities but rather components of a complex web, parents and educators can play pivotal roles in providing comprehensive and tailored support. This involves not only addressing specific symptoms but also acknowledging the potential effects that each condition may have on the others.</p>
</section>
</section>
<section id="impacts-on-physical-health" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="impacts-on-physical-health"><span class="header-section-number">3.5</span> Impacts on Physical Health</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>nsch_df <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Child_mental_struggle =</span> <span class="fu">ifelse</span>(<span class="fu">rowSums</span>(nsch_df[, mental_ls] <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"Yes"</span>, <span class="st">"No"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Child_mental_struggle <span class="sc">==</span> <span class="st">"Yes"</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> K2Q30A<span class="sc">:</span>K2Q38A, <span class="at">names_to =</span> <span class="st">"Issues"</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"PHYSICALPAIN"</span>, <span class="st">"PHYSACTIV"</span>, <span class="st">"Issues"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PHYSICALPAIN =</span> <span class="fu">factor</span>(<span class="fu">ifelse</span>(PHYSICALPAIN <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>) )) <span class="sc">|&gt;</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> PHYSACTIV, <span class="at">fill =</span> PHYSICALPAIN)) <span class="sc">+</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>Issues, <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">labeller =</span> <span class="fu">as_labeller</span>(<span class="fu">c</span>(</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q30A =</span> <span class="st">"LearningDisability"</span>,</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q31A =</span> <span class="st">"ADD/ADHD"</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q32A =</span> <span class="st">"Depression"</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q33A =</span> <span class="st">"Anxiety"</span>,</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q34A =</span> <span class="st">"BehaviorProblems"</span>,</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q35A =</span> <span class="st">"AutismASD"</span>,</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q37A =</span> <span class="st">"SpeechDisorder"</span>,</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">K2Q38A =</span> <span class="st">"TouretteSyndrome"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong><em>PHYSACTIV ‐ Exercise, Play Sport, or Physical Activity for 60 Minutes (T2 T3)</em></strong><br>
<em>DURING THE PAST WEEK, on how many days did this child exercise, play a sport, or participate in physical activity for at least 60 minutes?</em><br>
<em>1 = 0 days</em><br>
<em>2 = 1 ‐ 3 days</em><br>
<em>3 = 4 ‐ 6 days</em><br>
<em>4 = Every day</em></p>
<p>We want to know the impact of each mental health problems on physical activity and physical pain. Each facet represents a different mental issue, while the physical activity levels are separated as bars. Colors are used to represent how many of the cases will have physical pain. Here’s what we found:</p>
<ul>
<li><p>The general pattern of <code>PHYSACTIV</code> is that the count of different level are ranked $2&gt;3&gt;4\approx 1$. Which means most people exercise 1-3 days a week, and large proportion do 4-6 days a week. It is less likely to exercise everyday or 0 days a week.</p></li>
<li><p>Children with Depression tend to do less physical activities. Although the total counts is significantly less than ADD/ADHD and Anxiety, the number of people doing no sports at all is similar.</p></li>
<li><p>Children with Speech DIsorder tend to do more physical activities: the proportion of children doing sports everyday is higher than average, and the proportion of children doing no sports is lower than average.</p></li>
<li><p>For every subpopulation (represented by bars), the rate of physical pain appears to be similar. From this graph, it is hard to tell the difference across subpopulations, so we cannot give conclusion on general patterns of physical pain.</p></li>
</ul>
</section>
<section id="prepare-for-d3-graph" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="prepare-for-d3-graph"><span class="header-section-number">3.6</span> Prepare for D3 Graph</h2>
<pre><code>d3 &lt;- nsch_df |&gt;
   mutate(Grade=value_mapping$replacement[match(GRADES,value_mapping$original)]) |&gt;
   select(Grade, K2Q30A,K2Q31A,K2Q32A, K2Q33A,
           K2Q34A,K2Q35A,K2Q37A,K2Q38A)
d3$Num_Mental_Issues &lt;- as.character(rowSums(d3 ==1))
d3 |&gt; group_by(Grade, Num_Mental_Issues) |&gt;
  summarize(Num_People = n()) |&gt;
  filter(Grade != "Unknown") |&gt;
  pivot_wider(names_from = Grade, values_from = Num_People) |&gt;
  write.csv("data/d3.csv", row.names = FALSE)</code></pre>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./d3graph.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Interactive graph</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>